(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{429:function(t,s,a){"use strict";a.r(s);var e=a(45),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"static-files-express"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#static-files-express"}},[t._v("#")]),t._v(" Static Files - Express")]),t._v(" "),a("p",[t._v("eg CSS, JS, Images,...")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("using the middleware "),a("code",[t._v("express.static(path)")]),t._v(" (where "),a("code",[t._v("path")]),t._v(" is the absolute path of the folder)")])]),t._v(" "),a("li",[a("p",[t._v("eg. use "),a("code",[t._v("/public")]),t._v(" folder")])]),t._v(" "),a("li",[a("p",[t._v("all the files are not accessable by the uses, but the /public folder is")])])]),t._v(" "),a("p",[t._v("use")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("express"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("static")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'public'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("-> the gives the public-folder read permission")]),t._v(" "),a("p",[t._v("to access it: this is the root-folder you are in")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("stylesheet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/css/main.css"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),a("ul",[a("li",[t._v("you can use multiple public folders")])]),t._v(" "),a("p",[t._v("https://discuss.codecademy.com/t/what-does-static-public-do/401137")]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:"serving-static-files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#serving-static-files"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Learn/Server-side/Express_Nodejs/Introduction#serving_static_files",target:"_blank",rel:"noopener noreferrer"}},[t._v("Serving static files"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("You can use the "),a("a",{attrs:{href:"http://expressjs.com/en/4x/api.html#express.static",target:"_blank",rel:"noopener noreferrer"}},[t._v("express.static"),a("OutboundLink")],1),t._v(" middleware to serve static files, including your images, CSS and JavaScript ("),a("code",[t._v("static()")]),t._v(" is the only middleware function that is actually "),a("strong",[t._v("part")]),t._v(" of "),a("em",[t._v("Express")]),t._v(").")]),t._v(" "),a("p",[t._v("E.g. to serve images, CSS files, and JavaScript files from a directory named '"),a("strong",[t._v("public'")]),t._v(" at the same level as where you call node:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("express"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("static")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'public'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t\n")])])]),a("p",[t._v("Any files in the public directory are served by adding their filename ("),a("em",[t._v("relative")]),t._v(' to the base "public" directory) to the base URL. So for example:')]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("http://localhost:3000/images/dog.jpg\nhttp://localhost:3000/css/style.css\nhttp://localhost:3000/js/app.js\nhttp://localhost:3000/about.html\n")])])]),a("p",[t._v("You can call "),a("code",[t._v("static()")]),t._v(" multiple times to serve multiple directories.")]),t._v(" "),a("p",[t._v("If a file cannot be found by one middleware function then it will be passed on to the subsequent middleware (the order that middleware is called is based on your declaration order).")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("app.use(express.static('public'));\napp.use(express.static('media'));\n")])])]),a("p",[t._v("You can also create a virtual prefix for your static URLs,")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/media'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" express"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("static")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'public'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("Now, you can load the files that are in the "),a("code",[t._v("public")]),t._v(" directory from the "),a("code",[t._v("/media")]),t._v(" path prefix.")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("http://localhost:3000/media/images/dog.jpg\nhttp://localhost:3000/media/video/cat.mp4\nhttp://localhost:3000/media/cry.mp3\n")])])]),a("p",[a("strong",[t._v("Note")]),t._v(": See also "),a("a",{attrs:{href:"https://expressjs.com/en/starter/static-files.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Serving static files in Express"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("hr"),t._v(" "),a("h3",{attrs:{id:""}},[a("a",{staticClass:"header-anchor",attrs:{href:"#"}},[t._v("#")])])])}),[],!1,null,null,null);s.default=n.exports}}]);